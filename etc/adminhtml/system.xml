<?xml version="1.0"?>
<!--
/**
 * Copyright Â© 2018 OpenGento, All rights reserved.
 * See LICENSE bundled with this library for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <section id="customer">
            <group id="gdpr" translate="label" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Privacy (GDPR)</label>
                <!-- Global Settings -->
                <include path="Opegento_Gdpr::system/general.xml"/>
                <!-- Erasure Settings -->
                <include path="Opegento_Gdpr::system/erasure.xml"/>
                <!-- Export Settings -->
                <include path="Opegento_Gdpr::system/export.xml"/>
                <!-- Cookie Settings -->
                <include path="Opegento_Gdpr::system/cookie.xml"/>





                <group id="account" translate="label" sortOrder="1618" showInDefault="1" showInWebsite="1" showInStore="1">



                    <field id="deletion_time" type="text" translate="label" sortOrder="31" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Account Deletion Time (minutes)</label>
                        <validate>validate-greater-than-zero required-entry</validate>
                        <comment>Time in which to process delete and anonymization (minimum is 1 minute)</comment>
                        <depends>
                            <field id="*/*/account/account_deletion_enabled">1</field>
                        </depends>
                    </field>
                    <field id="success_message" type="textarea" translate="label comment" sortOrder="40"
                           showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Success message</label>
                        <comment><![CDATA[This message will be shown when a customer deletes their account.]]></comment>
                        <depends>
                            <field id="*/*/account/account_deletion_enabled">1</field>
                        </depends>
                    </field>



                </group>

                <group id="export" translate="label" sortOrder="1618" showInDefault="1" showInWebsite="1"
                       showInStore="1">
                    <label>Customer Data Export</label>
                    <depends>
                        <field id="*/*/general/enable">1</field>
                    </depends>

                    <field id="account_export_enabled" type="select" sortOrder="70" translate="label" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Allow user export</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    </field>
                    <field id="export_information" type="textarea" sortOrder="80" translate="label comment"
                           showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Export information</label>
                        <comment><![CDATA[Information about data export. This text will be displayed in the settings
                        of the user account.]]></comment>
                        <depends>
                            <field id="*/*/export/account_export_enabled">1</field>
                        </depends>
                    </field>
                    <field id="customer_attributes" type="multiselect" translate="label comment" sortOrder="300" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Customer Attributes</label>
                        <comment><![CDATA[This attributes list will be exported when processed.]]></comment>
                        <depends>
                            <field id="*/*/*/enable">1</field>
                        </depends>
                        <source_model>\Opengento\Gdpr\Model\Config\Source\CustomerAttributes</source_model>
                    </field>
                    <field id="customer_address_attributes" type="multiselect" translate="label comment" sortOrder="300" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Customer Address Attributes</label>
                        <comment><![CDATA[This address attributes list will be exported when processed.]]></comment>
                        <depends>
                            <field id="*/*/*/enable">1</field>
                        </depends>
                        <source_model>\Opengento\Gdpr\Model\Config\Source\CustomerAddressAttributes</source_model>
                    </field>
                </group>

                <group id="cookie" translate="label" sortOrder="1618" showInDefault="1" showInWebsite="1"
                       showInStore="1">
                    <label>Cookie Policy Popup</label>
                    <depends>
                        <field id="*/*/general/enable">1</field>
                    </depends>

                    <field id="popup_notification_enabled" type="select" sortOrder="90" translate="label comment"
                           showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable popup notification</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <comment><![CDATA[This notification will be displayed at the top of the page until the user
                        closes it.]]></comment>
                    </field>
                    <field id="popup_text" type="textarea" sortOrder="100" translate="label comment" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Popup notification text</label>
                        <comment><![CDATA[This text will be displayed at the popup notification.]]></comment>
                        <depends>
                            <field id="*/*/general/enable">1</field>
                            <field id="*/*/cookie/popup_notification_enabled">1</field>
                        </depends>
                    </field>
                    <field id="popup_link_text" type="text" sortOrder="200" translate="label comment" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Popup notification link text</label>
                        <comment><![CDATA[This text will be displayed for the link to the Privacy Policy.]]></comment>
                        <depends>
                            <field id="*/*/general/enable">1</field>
                            <field id="*/*/cookie/popup_notification_enabled">1</field>
                        </depends>
                    </field>
                    <field id="popup_title" type="text" sortOrder="200" translate="label comment" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Popup notification title</label>
                        <comment><![CDATA[This text will be displayed for the title of the popup.]]></comment>
                        <depends>
                            <field id="*/*/general/enable">1</field>
                            <field id="*/*/cookie/popup_notification_enabled">1</field>
                        </depends>
                    </field>
                    <field id="popup_button_agree_text" type="text" sortOrder="200" translate="label comment" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Popup notification agree button text</label>
                        <comment><![CDATA[This text will be displayed for the Agree button label.]]></comment>
                        <depends>
                            <field id="*/*/general/enable">1</field>
                            <field id="*/*/cookie/popup_notification_enabled">1</field>
                        </depends>
                    </field>
                </group>
            </group>
        </section>
    </system>
</config>
